!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var r in i)("object"==typeof exports?exports:e)[r]=i[r]}}(window,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8)}([function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(18),t),s(i(19),t)},function(e,t,i){e.exports=function(){"use strict";
/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(e,t){return null!=e&&"object"==typeof e&&t in e}var n=RegExp.prototype.test,a=/\S/;function l(e){return!function(e,t){return n.call(e,t)}(a,e)}var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,c=/\s+/,d=/\s*=/,h=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},f.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,r,n,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var l,o,u,c=this,d=!1;c;){if(e.indexOf(".")>0)for(l=c.view,o=e.split("."),u=0;null!=l&&u<o.length;)u===o.length-1&&(d=s(l,o[u])||(r=l,n=o[u],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(n))),l=l[o[u++]];else l=c.view[e],d=s(c.view,e);if(d){t=l;break}c=c.parent}a[e]=t}return i(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,i){var s=this.templateCache,n=e+":"+(i||m.tags).join(":"),a=void 0!==s,o=a?s.get(n):void 0;return null==o&&(o=function(e,i){if(!e)return[];var s,n,a,o=!1,g=[],v=[],b=[],y=!1,_=!1,w="",x=0;function E(){if(y&&!_)for(;b.length;)delete v[b.pop()];else b=[];y=!1,_=!1}function R(e){if("string"==typeof e&&(e=e.split(c,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(r(e[0])+"\\s*"),n=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}R(i||m.tags);for(var S,O,T,k,j,C,A=new f(e);!A.eos();){if(S=A.pos,T=A.scanUntil(s))for(var P=0,B=T.length;P<B;++P)l(k=T.charAt(P))?(b.push(v.length),w+=k):(_=!0,o=!0,w+=" "),v.push(["text",k,S,S+1]),S+=1,"\n"===k&&(E(),w="",x=0,o=!1);if(!A.scan(s))break;if(y=!0,O=A.scan(p)||"name",A.scan(u),"="===O?(T=A.scanUntil(d),A.scan(d),A.scanUntil(n)):"{"===O?(T=A.scanUntil(a),A.scan(h),A.scanUntil(n),O="&"):T=A.scanUntil(n),!A.scan(n))throw new Error("Unclosed tag at "+A.pos);if(j=">"==O?[O,T,S,A.pos,w,x,o]:[O,T,S,A.pos],x++,v.push(j),"#"===O||"^"===O)g.push(j);else if("/"===O){if(!(C=g.pop()))throw new Error('Unopened section "'+T+'" at '+S);if(C[1]!==T)throw new Error('Unclosed section "'+C[1]+'" at '+S)}else"name"===O||"{"===O||"&"===O?_=!0:"="===O&&R(T)}if(E(),C=g.pop())throw new Error('Unclosed section "'+C[1]+'" at '+A.pos);return function(e){for(var t,i=[],r=i,s=[],n=0,a=e.length;n<a;++n)switch((t=e[n])[0]){case"#":case"^":r.push(t),s.push(t),r=t[4]=[];break;case"/":s.pop()[5]=t[2],r=s.length>0?s[s.length-1][4]:i;break;default:r.push(t)}return i}(function(e){for(var t,i,r=[],s=0,n=e.length;s<n;++s)(t=e[s])&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(r.push(t),i=t));return r}(v))}(e,i),a&&s.set(n,o)),o},v.prototype.render=function(e,t,i,r){var s=this.getConfigTags(r),n=this.parse(e,s),a=t instanceof g?t:new g(t,void 0);return this.renderTokens(n,a,i,e,r)},v.prototype.renderTokens=function(e,t,i,r,s){for(var n,a,l,o="",u=0,c=e.length;u<c;++u)l=void 0,"#"===(a=(n=e[u])[0])?l=this.renderSection(n,t,i,r,s):"^"===a?l=this.renderInverted(n,t,i,r,s):">"===a?l=this.renderPartial(n,t,i,s):"&"===a?l=this.unescapedValue(n,t):"name"===a?l=this.escapedValue(n,t,s):"text"===a&&(l=this.rawValue(n)),void 0!==l&&(o+=l);return o},v.prototype.renderSection=function(e,r,s,n,a){var l=this,o="",u=r.lookup(e[1]);if(u){if(t(u))for(var c=0,d=u.length;c<d;++c)o+=this.renderTokens(e[4],r.push(u[c]),s,n,a);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)o+=this.renderTokens(e[4],r.push(u),s,n,a);else if(i(u)){if("string"!=typeof n)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(r.view,n.slice(e[3],e[5]),(function(e){return l.render(e,r,s,a)})))&&(o+=u)}else o+=this.renderTokens(e[4],r,s,n,a);return o}},v.prototype.renderInverted=function(e,i,r,s,n){var a=i.lookup(e[1]);if(!a||t(a)&&0===a.length)return this.renderTokens(e[4],i,r,s,n)},v.prototype.indentPartial=function(e,t,i){for(var r=t.replace(/[^ \t]/g,""),s=e.split("\n"),n=0;n<s.length;n++)s[n].length&&(n>0||!i)&&(s[n]=r+s[n]);return s.join("\n")},v.prototype.renderPartial=function(e,t,r,s){if(r){var n=this.getConfigTags(s),a=i(r)?r(e[1]):r[e[1]];if(null!=a){var l=e[6],o=e[5],u=e[4],c=a;0==o&&u&&(c=this.indentPartial(a,u,l));var d=this.parse(c,n);return this.renderTokens(d,t,r,c,s)}}},v.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i},v.prototype.escapedValue=function(e,t,i){var r=this.getConfigEscape(i)||m.escape,s=t.lookup(e[1]);if(null!=s)return"number"==typeof s&&r===m.escape?String(s):r(s)},v.prototype.rawValue=function(e){return e[1]},v.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},v.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var m={name:"mustache.js",version:"4.1.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){b.templateCache=e},get templateCache(){return b.templateCache}},b=new v;return m.clearCache=function(){return b.clearCache()},m.parse=function(e,t){return b.parse(e,t)},m.render=function(e,i,r,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(n=e)?"array":typeof n)+'" was given as the first argument for mustache#render(template, view, partials)');var n;return b.render(e,i,r,s)},m.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return o[e]}))},m.Scanner=f,m.Context=g,m.Writer=v,m}()},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(20),t),s(i(21),t),s(i(4),t)},function(e,t,i){var r=i(5),s=i(32),n=i(35),a=Math.max,l=Math.min;e.exports=function(e,t,i){var o,u,c,d,h,p,f=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var i=o,r=u;return o=u=void 0,f=t,d=e.apply(r,i)}function y(e){return f=e,h=setTimeout(w,t),g?b(e):d}function _(e){var i=e-p;return void 0===p||i>=t||i<0||v&&e-f>=c}function w(){var e=s();if(_(e))return x(e);h=setTimeout(w,function(e){var i=t-(e-p);return v?l(i,c-(e-f)):i}(e))}function x(e){return h=void 0,m&&o?b(e):(o=u=void 0,d)}function E(){var e=s(),i=_(e);if(o=arguments,u=this,p=e,i){if(void 0===h)return y(p);if(v)return clearTimeout(h),h=setTimeout(w,t),b(p)}return void 0===h&&(h=setTimeout(w,t)),d}return t=n(t)||0,r(i)&&(g=!!i.leading,c=(v="maxWait"in i)?a(n(i.maxWait)||0,t):c,m="trailing"in i?!!i.trailing:m),E.cancel=function(){void 0!==h&&clearTimeout(h),f=0,o=p=u=h=void 0},E.flush=function(){return void 0===h?d:x(s())},E}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;class r{static emit(e,t={}){let i=new CustomEvent(e,{detail:t});document.dispatchEvent(i)}}t.Events=r,r.onSubmitGroupedSearch="onSubmitGroupedSearch",r.onGroupedSearch="onGroupedSearch",r.onBeforeGroupedSearch="onBeforeGroupedSearch",r.onAfterGroupedSearch="onAfterGroupedSearch",r.onArrowMovementGroupedSearch="onArrowMovementGroupedSearch",r.onSubmitSearch="onSubmitSearch",r.onSearch="onSearch",r.onBeforeSearch="onBeforeSearch",r.onAfterSearch="onAfterSearch",r.onArrowMovementSearch="onArrowMovementSearch",r.onResultRequest="onResultRequest",r.onBeforeResultRequest="onBeforeResultRequest",r.onAfterResultRequest="onAfterResultRequest",r.onAggsUpdate="onAggsUpdate"},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,i){var r=i(33),s="object"==typeof self&&self&&self.Object===Object&&self,n=r||s||Function("return this")();e.exports=n},function(e,t,i){var r=i(6).Symbol;e.exports=r},function(e,t,i){i(9),e.exports=i(10)},function(e,t,i){"use strict";i.r(t),t.default=i.p+"needletail.min.css"},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(11),t),s(i(15),t),s(i(28),t),s(i(4),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const r=i(12),s=i(13);class n extends r.Client{constructor(e){super(e),this.widgets=new s.WidgetCollection(this)}addWidget(e){return this.widgets.add(e),this}addMultipleWidgets(e){return this.widgets.addMultiple(e),this}}t.Client=n},function(e,t,i){window,e.exports=function(e){var t={};function i(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=14)}([function(e,t,i){"use strict";var r=i(5),s=Object.prototype.toString;function n(e){return"[object Array]"===s.call(e)}function a(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function o(e){if("[object Object]"!==s.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===s.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:o,isUndefined:a,isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:u,isStream:function(e){return l(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function i(i,r){o(t[r])&&o(i)?t[r]=e(t[r],i):o(i)?t[r]=e({},i):n(i)?t[r]=i.slice():t[r]=i}for(var r=0,s=arguments.length;r<s;r++)c(arguments[r],i);return t},extend:function(e,t,i){return c(t,(function(t,s){e[s]=i&&"function"==typeof t?r(t,i):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEndpoint=void 0;const n=s(i(18)),a=i(36);t.BaseEndpoint=class{constructor(e){this.apiKey=e}getApiKey(){return this.apiKey}get(e,t={}){return r(this,void 0,void 0,(function*(){try{const i=yield n.default.get(a.Config.baseUrl+e,this.getOptions(t));return i.data.warning&&console.warn(i.data.warning),i}catch(e){console.error(e)}}))}post(e,t={}){return r(this,void 0,void 0,(function*(){try{const i=yield n.default.post(a.Config.baseUrl+e,t.data,this.getOptions(t));return i.data.warning&&console.warn(i.data.warning),i}catch(e){console.error(e)}}))}getOptions(e={}){return{headers:Object.assign({"content-type":"application/json; charset=UTF-8",[a.Config.headers.apiKey]:this.getApiKey()},e.headers),data:e.data,params:e.params}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bucket=void 0;const r=i(4),s=i(3);class n extends s.BaseEntity{setName(e){return this.name=e,this}getName(){return this.name}setShowScore(e){return this.show_score=e,this}isShowScore(){return this.show_score}setDocumentCount(e){return this.document_count=e,this}getDocumentCount(){return this.document_count}setSearchableAttributes(e){return this.searchable_attributes=e,this}getSearchableAttributes(){return this.searchable_attributes}setRetrievableAttributes(e){return this.retrievable_attributes=e,this}getRetrievableAttributes(){return this.retrievable_attributes}setGroupBy(e){return this.group_by=e,this}getGroupBy(){return this.group_by}setAttributes(e){return this.attributes=e,this}getAttributes(){return this.attributes}setBoosts(e){return this.boosts=e,this}getBoosts(){return this.boosts}synonyms(){return new r.Synonyms(this.getApiKey(),this)}alternatives(){return new r.Alternatives(this.getApiKey(),this)}}t.Bucket=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEntity=void 0,t.BaseEntity=class{setApiKey(e){return this.apiKey=e,this}getApiKey(){if(!this.apiKey)throw"API key not set";return this.apiKey}}},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(17),t),s(i(39),t),s(i(40),t),s(i(41),t),s(i(42),t)},function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return e.apply(t,i)}}},function(e,t,i){"use strict";var r=i(0);function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var n;if(i)n=i(t);else if(r.isURLSearchParams(t))n=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(s(t)+"="+s(e))})))})),n=a.join("&")}if(n){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,i){"use strict";(function(t){var r=i(0),s=i(25),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,o={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(l=i(9)),l),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){o.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){o.headers[e]=r.merge(n)})),e.exports=o}).call(this,i(24))},function(e,t,i){"use strict";var r=i(0),s=i(26),n=i(28),a=i(6),l=i(29),o=i(32),u=i(33),c=i(10);e.exports=function(e){return new Promise((function(t,i){var d=e.data,h=e.headers;r.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(f+":"+g)}var v=l(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?o(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};s(t,i,n),p=null}},p.onabort=function(){p&&(i(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){i(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(c(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var m=(e.withCredentials||u(v))&&e.xsrfCookieName?n.read(e.xsrfCookieName):void 0;m&&(h[e.xsrfHeaderName]=m)}if("setRequestHeader"in p&&r.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),i(e),p=null)})),d||(d=null),p.send(d)}))}},function(e,t,i){"use strict";var r=i(27);e.exports=function(e,t,i,s,n){var a=new Error(e);return r(a,t,i,s,n)}},function(e,t,i){"use strict";var r=i(0);e.exports=function(e,t){t=t||{};var i={},s=["url","method","data"],n=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(s){r.isUndefined(t[s])?r.isUndefined(e[s])||(i[s]=o(void 0,e[s])):i[s]=o(e[s],t[s])}r.forEach(s,(function(e){r.isUndefined(t[e])||(i[e]=o(void 0,t[e]))})),r.forEach(n,u),r.forEach(a,(function(s){r.isUndefined(t[s])?r.isUndefined(e[s])||(i[s]=o(void 0,e[s])):i[s]=o(void 0,t[s])})),r.forEach(l,(function(r){r in t?i[r]=o(e[r],t[r]):r in e&&(i[r]=o(void 0,e[r]))}));var c=s.concat(n).concat(a).concat(l),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return r.forEach(d,u),i}},function(e,t,i){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(2),t),s(i(37),t),s(i(38),t)},function(e,t,i){e.exports=i(15)},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(16),t),s(i(43),t),s(i(45),t),s(i(49),t)},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const s=i(4),n=i(2);t.Client=class{constructor(e){this.readKey=e}bulk(e){return r(this,void 0,void 0,(function*(){return yield new s.BulkSearch(this.getReadKey()).find(e)}))}search(e){return r(this,void 0,void 0,(function*(){return yield new s.Search(this.getReadKey()).find(e)}))}buckets(){return new s.Buckets(this.getReadKey())}alternatives(e){let t=new n.Bucket;return t.setApiKey(this.getReadKey()).setName(e),t.alternatives()}synonyms(e){let t=new n.Bucket;return t.setApiKey(this.getReadKey()).setName(e),t.synonyms()}getReadKey(){return this.readKey}}},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Alternatives=void 0;const s=i(1),n=i(13);class a extends s.BaseEndpoint{constructor(e,t){super(e),this.bucket=t}all(){return r(this,void 0,void 0,(function*(){let e=yield this.get(`buckets/${this.bucket.getName()}/alternatives`),t=[];return e.forEach(e=>{t.push(this.toEntity(e))}),t}))}find(e){return r(this,void 0,void 0,(function*(){let t=yield this.get(`buckets/${this.bucket.getName()}/alternatives/${e}`);return this.toEntity(t)}))}toEntity(e){return(new n.Alternative).setApiKey(this.getApiKey()).setId(e.id).setOriginalWord(e.original_word).setAlternativeWords(e.alternative_words)}}t.Alternatives=a},function(e,t,i){e.exports=i(19)},function(e,t,i){"use strict";var r=i(0),s=i(5),n=i(20),a=i(11);function l(e){var t=new n(e),i=s(n.prototype.request,t);return r.extend(i,n.prototype,t),r.extend(i,t),i}var o=l(i(8));o.Axios=n,o.create=function(e){return l(a(o.defaults,e))},o.Cancel=i(12),o.CancelToken=i(34),o.isCancel=i(7),o.all=function(e){return Promise.all(e)},o.spread=i(35),e.exports=o,e.exports.default=o},function(e,t,i){"use strict";var r=i(0),s=i(6),n=i(21),a=i(22),l=i(11);function o(e){this.defaults=e,this.interceptors={request:new n,response:new n}}o.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=l(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)i=i.then(t.shift(),t.shift());return i},o.prototype.getUri=function(e){return e=l(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){o.prototype[e]=function(t,i){return this.request(l(i||{},{method:e,url:t,data:(i||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){o.prototype[e]=function(t,i,r){return this.request(l(r||{},{method:e,url:t,data:i}))}})),e.exports=o},function(e,t,i){"use strict";var r=i(0);function s(){this.handlers=[]}s.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},function(e,t,i){"use strict";var r=i(0),s=i(23),n=i(7),a=i(8);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=s(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=s(t.data,t.headers,e.transformResponse),t}),(function(t){return n(t)||(l(e),t&&t.response&&(t.response.data=s(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,i){"use strict";var r=i(0);e.exports=function(e,t,i){return r.forEach(i,(function(i){e=i(e,t)})),e}},function(e,t){var i,r,s=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(e){i=n}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var o,u=[],c=!1,d=-1;function h(){c&&o&&(c=!1,o.length?u=o.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=l(h);c=!0;for(var t=u.length;t;){for(o=u,u=[];++d<t;)o&&o[d].run();d=-1,t=u.length}o=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new f(e,t)),1!==u.length||c||l(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,i){"use strict";var r=i(0);e.exports=function(e,t){r.forEach(e,(function(i,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[r])}))}},function(e,t,i){"use strict";var r=i(10);e.exports=function(e,t,i){var s=i.config.validateStatus;i.status&&s&&!s(i.status)?t(r("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},function(e,t,i){"use strict";e.exports=function(e,t,i,r,s){return e.config=t,i&&(e.code=i),e.request=r,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,i){"use strict";var r=i(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,i,s,n,a){var l=[];l.push(e+"="+encodeURIComponent(t)),r.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),r.isString(s)&&l.push("path="+s),r.isString(n)&&l.push("domain="+n),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,i){"use strict";var r=i(30),s=i(31);e.exports=function(e,t){return e&&!r(t)?s(e,t):t}},function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,i){"use strict";var r=i(0),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,n,a={};return e?(r.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=r.trim(e.substr(0,n)).toLowerCase(),i=r.trim(e.substr(n+1)),t){if(a[t]&&s.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}})),a):a}},function(e,t,i){"use strict";var r=i(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(e){var r=e;return t&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=s(window.location.href),function(t){var i=r.isString(t)?s(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},function(e,t,i){"use strict";var r=i(12);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new r(e),t(i.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;class r{}t.Config=r,r.baseUrl="https://api.needletail.io/3.0/",r.headers={apiKey:"x-needletail-api-key"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Synonym=void 0;const r=i(3);class s extends r.BaseEntity{setBucket(e){return this.bucket=e,this}getBucket(){return this.bucket}setId(e){return this.id=e,this}getId(){return this.id}setWords(e){return this.words=e,this}getWords(){return this.words}}t.Synonym=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alternative=void 0;const r=i(3);class s extends r.BaseEntity{setBucket(e){return this.bucket=e,this}getBucket(){return this.bucket}setId(e){return this.id=e,this}getId(){return this.id}setOriginalWord(e){return this.original_word=e,this}getOriginalWord(){return this.original_word}setAlternativeWords(e){return this.alternative_words=e,this}getAlternativeWords(){return this.alternative_words}}t.Alternative=s},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Buckets=void 0;const s=i(1),n=i(2);class a extends s.BaseEndpoint{all(){return r(this,void 0,void 0,(function*(){let e=yield this.get("buckets"),t=[];return e.forEach(e=>{t.push(this.toEntity(e))}),t}))}find(e){return r(this,void 0,void 0,(function*(){let t=yield this.get("buckets/"+e);return this.toEntity(t)}))}toEntity(e){return(new n.Bucket).setApiKey(this.getApiKey()).setName(e.name).setShowScore(e.show_score).setDocumentCount(e.document_count).setSearchableAttributes(e.searchable_attributes).setRetrievableAttributes(e.retrievable_attributes).setGroupBy(e.group_by).setAttributes(e.attributes).setBoosts(e.boosts)}}t.Buckets=a},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Synonyms=void 0;const s=i(1),n=i(13);class a extends s.BaseEndpoint{constructor(e,t){super(e),this.bucket=t}all(){return r(this,void 0,void 0,(function*(){let e=yield this.get(`buckets/${this.bucket.getName()}/synonyms`),t=[];return e.forEach(e=>{t.push(this.toEntity(e))}),t}))}find(e){return r(this,void 0,void 0,(function*(){let t=yield this.get(`buckets/${this.bucket.getName()}/synonyms/${e}`);return this.toEntity(t)}))}toEntity(e){return(new n.Synonym).setApiKey(this.getApiKey()).setId(e.id).setWords(e.words)}}t.Synonyms=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BulkSearch=void 0;const r=i(1);class s extends r.BaseEndpoint{find(e){return this.post("search/bulk",{data:e})}}t.BulkSearch=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;const r=i(1);class s extends r.BaseEndpoint{find(e){return this.post("search",{data:e})}}t.Search=s},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(44),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geoPoint=void 0,t.geoPoint=function(e,t,i){return{geo_point:{lat:e,lng:t,distance:i}}}},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(46),t),s(i(47),t),s(i(48),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equals=void 0,t.equals=function(e={}){return{equals:e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notEquals=void 0,t.notEquals=function(e={}){return{not_equals:e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.should=void 0,t.should=function(e={}){return{should:e}}},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(50),t),s(i(51),t),s(i(52),t),s(i(53),t),s(i(54),t),s(i(55),t),s(i(56),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.field=void 0,t.field=function(e){return{field:{field:e}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fuzzy=void 0,t.fuzzy=function(e,t){return{fuzzy:{field:e,value:t}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.like=void 0,t.like=function(e,t){return{like:{fields:"string"==typeof e?[e]:e,value:t}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.match=void 0,t.match=function(e,t){return{match:{field:e,values:"string"==typeof t?[t]:t}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0,t.range=function(e,t,i){return{range:{field:e,gte:t,lte:i}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regex=void 0,t.regex=function(e,t){return{regex:{field:e,value:t}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startsWith=void 0,t.startsWith=function(e,t){return{starts_with:{field:e,value:t}}}}])},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(14),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetCollection=void 0;t.WidgetCollection=class{constructor(e){this.autocompleteBar=[],this.groupedSearchBar=[],this.result=[],this.aggregationBar=[],this.client=e}add(e){switch(e.discriminator){case"AutocompleteBar":this.autocompleteBar.push(e);break;case"GroupedSearchBar":this.groupedSearchBar.push(e);break;case"Result":this.result.push(e);break;case"AggregationBar":this.aggregationBar.push(e);break;default:throw console.error(e),"Unsupported widget: "+e.discriminator}e.setClient(this.client).build()}addMultiple(e){e.forEach(e=>{this.add(e)})}}},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(16),t),s(i(22),t),s(i(24),t),s(i(26),t)},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;const s=r(i(17)),n=i(0),a=r(i(1)),l=i(2);class o extends n.Aggregation{constructor(e={}){super(e),this.discriminator="Switch",this.onValue="On",this.offValue="Off",this.onValue=e.on_value||this.onValue,this.offValue=e.off_value||this.offValue,this.attributeValue=e.attribute_value||this.attributeValue,this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}}setAttributeValue(e){return this.attributeValue=e,this}getAttributeValue(){return this.attributeValue}setOnValue(e){return this.onValue=e,this}getOnValue(){return this.onValue}setOffValue(e){return this.offValue=e,this}getOffValue(){return this.offValue}getTemplate(){return this.template?this.template:s.default}render(){let e=this.getTemplate();return a.default.render(e,{title:this.getTitle(),classTitle:this.classTitle,name:this.getTitle(),onValue:this.getOnValue(),offValue:this.getOffValue(),collapsible:this.getCollapsible()?"needletail-collapsible":"",collapsed:this.getCollapsible()&&this.getDefaultCollapsed()?"needletail-collapsed":""})}executeJS(){let e=this.getTitle(),t=l.URIHelper.getSearchParam(e);document.querySelectorAll(".needletail-aggregation-switch-input.needletail-aggregation-switch-input-"+this.classTitle).forEach(t=>{t.checked=l.URIHelper.getSearchParam(e)===this.getAttributeValue(),t.addEventListener("change",()=>{this.handle(t)})}),document.querySelectorAll(".needletail-aggregation.needletail-aggregation-switch.needletail-aggregation-switch-"+this.classTitle).forEach(e=>{this.getCollapsible()&&e.addEventListener("click",t=>{e.classList.contains("needletail-collapsed")?e.classList.remove("needletail-collapsed"):e.classList.add("needletail-collapsed")})}),this.values[t]=t,this.value={field:this.attribute,value:t,is_aggregation:!0}}handle(e,t=!1){let i=this.getAttributeValue();t||l.URIHelper.addToHistory(this.getTitle(),i,!0),this.values[i]?delete this.values[i]:this.values[i]=i,this.value={field:this.attribute,value:this.values[i]?i:"",is_aggregation:!0},this.values[i]||(this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}),l.Events.emit(l.Events.onBeforeResultRequest,{})}reset(){document.querySelectorAll(".needletail-aggregation-switch-input.needletail-aggregation-switch-input-"+this.classTitle).forEach(e=>{e.checked&&(e.checked=!1,this.handle(e))})}}t.Switch=o},function(e,t){e.exports='<div class="needletail-aggregation needletail-aggregation-switch needletail-aggregation-switch-{{classTitle}} {{collapsible}} {{collapsed}}"> <div class="needletail-aggregation-switch-title"> {{title}} </div> <div class="needletail-collapsible-container"> <span class="needletail-aggregation-boolean-label">{{offValue}}</span> <label class="needletail-aggregation-switch-container"> <input type="checkbox" name="{{name}}" value="{{value}}" class="needletail-aggregation-switch-input needletail-aggregation-switch-input-{{name}}"> <span class="needletail-aggregation-switch-slider"></span> </label> <span class="needletail-aggregation-boolean-label">{{onValue}}</span> </div> </div>'},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregation=void 0;t.Aggregation=class{constructor(e={}){this.template=null,this.values={},this.value={},this.collapsible=!1,this.defaultCollapsed=!1,this.title=e.title||"",this.classTitle=this.title.replace(/ /g,"-")||"",this.template=e.template||"",this.attribute=e.attribute||this.title,this.collapsible=e.collapsible||this.collapsible,this.defaultCollapsed=e.default_collapsed||this.defaultCollapsed}setAttribute(e){return this.attribute=e,this.value.field||(this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}),this}getAttribute(){return this.attribute}setCollapsible(e){return this.collapsible=e,this}getCollapsible(){return this.collapsible}setDefaultCollapsed(e){return this.defaultCollapsed=e,this}getDefaultCollapsed(){return this.defaultCollapsed}setTitle(e){return this.title=e,this.classTitle=e.replace(" ","-"),this}getTitle(){return this.title}setTemplate(e){return this.template=e,this}getTemplate(){return this.template}render(){return this.getTemplate()}executeJS(){}reset(){}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Widget=void 0;t.Widget=class{constructor(e={}){this.el=e.el||""}setEl(e){return this.el=e,this}getEl(){return this.el}getTemplate(){return this.template}setTemplate(e){return this.template=e,this}setClient(e){return this.client=e,this}render(e={}){let t=this.getTemplate();return document.createRange().createContextualFragment(t)}executeJS(){}build(e={}){let t=document.querySelectorAll(this.getEl()),i=this.render(e);t.forEach(e=>{e.innerHTML="",e.appendChild(i.cloneNode(!0))}),this.executeJS()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URIHelper=void 0;t.URIHelper=class{static addToHistory(e,t,i=!1){const r=new URL(window.location.href);if(i&&r.searchParams.has(e)){let i=r.searchParams.getAll(e),s=i.indexOf(t);s>-1?(r.searchParams.delete(e),delete i[s],i.forEach(t=>r.searchParams.append(e,t))):r.searchParams.append(e,t)}else r.searchParams.delete(e),t&&r.searchParams.append(e,t);let s=r.searchParams.toString();s=s?"?"+s:r.pathname,history.pushState({},document.title,s)}static getSearchParam(e){return new URL(window.location.href).searchParams.get(e)}static getSearchParams(e){return new URL(window.location.href).searchParams.getAll(e)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;class r{constructor(e){if(this.value=e,"object"==typeof this.value&&null!==this.value)return new Proxy(this.value,{get:(e,t,i)=>Reflect.get(e,t,i)})}}t.optional=function(e=null,t=null){return null===t?new r(e):null!==e?t(e):void 0}},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;const s=r(i(23)),n=i(0),a=r(i(1)),l=i(2);class o extends n.Aggregation{constructor(e={}){super(e),this.discriminator="Checkbox",this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}}getTemplate(){return this.template?this.template:s.default}render(e=[]){let t=this.getTemplate();return a.default.render(t,{title:this.getTitle(),classTitle:this.classTitle,options:e,collapsible:this.getCollapsible()?"needletail-collapsible":"",collapsed:this.getCollapsible()&&this.getDefaultCollapsed()?"needletail-collapsed":""})}executeJS(){let e=this.getTitle();document.addEventListener(l.Events.onAggsUpdate,t=>{if(t.detail[this.attribute]){let i=[];t.detail[this.attribute].forEach(t=>{i.push({name:e,value:t.value,count:t.count})});let r=this.render(i),s=document.createRange().createContextualFragment(r),n=!1;document.querySelectorAll(".needletail-aggregation.needletail-aggregation-checkbox.needletail-aggregation-checkbox-"+this.classTitle).forEach(e=>{n=e.classList.contains("needletail-collapsed"),e.replaceWith(s.cloneNode(!0))}),document.querySelectorAll(".needletail-aggregation.needletail-aggregation-checkbox.needletail-aggregation-checkbox-"+this.classTitle).forEach(e=>{this.getCollapsible()&&(e.addEventListener("click",t=>{e.classList.contains("needletail-collapsed")?e.classList.remove("needletail-collapsed"):e.classList.add("needletail-collapsed")}),n&&e.classList.add("needletail-collapsed"))}),document.querySelectorAll(".needletail-aggregation-checkbox-option-input.needletail-aggregation-checkbox-option-input-"+this.classTitle).forEach(e=>{e.addEventListener("change",()=>{this.handle(e)})});let a=l.URIHelper.getSearchParams(e);a&&a.forEach(e=>{document.querySelectorAll(`.needletail-aggregation-checkbox-option-input-${this.classTitle}[value='${e}']`).forEach(e=>{e.checked=!0})})}});let t=l.URIHelper.getSearchParams(e);t&&(t.forEach(e=>{this.values[e]=e}),this.value={field:this.attribute,value:Object.keys(this.values),is_aggregation:!0},0===Object.keys(this.values).length&&(this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}))}handle(e,t=!1){t||l.URIHelper.addToHistory(this.getTitle(),e.value,!0),this.values[e.value]?delete this.values[e.value]:this.values[e.value]=e.value,this.value={field:this.attribute,value:Object.keys(this.values),is_aggregation:!0},0===Object.keys(this.values).length&&(this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}),l.Events.emit(l.Events.onBeforeResultRequest,{})}reset(){document.querySelectorAll(".needletail-aggregation-checkbox-option-input.needletail-aggregation-checkbox-option-input-"+this.classTitle).forEach(e=>{e.checked&&(e.checked=!1,this.handle(e))})}}t.Checkbox=o},function(e,t){e.exports='<div class="needletail-aggregation needletail-aggregation-checkbox needletail-aggregation-checkbox-{{classTitle}} {{collapsible}} {{collapsed}}"> <div class="needletail-aggregation-checkbox-title"> {{title}} </div> <div class="needletail-collapsible-container"> {{#options}} <label class="needletail-aggregation-checkbox-option"> <input type="checkbox" name="{{name}}" value="{{value}}" class="needletail-aggregation-checkbox-option-input needletail-aggregation-checkbox-option-input-{{name}}"> <span class="needletail-aggregation-checkbox-option-checkmark"></span> <span class="needletail-aggregation-checkbox-option-label">{{value}} ({{count}})</span> </label> {{/options}} </div> </div>'},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Radio=void 0;const s=r(i(25)),n=i(0),a=r(i(1)),l=i(2);class o extends n.Aggregation{constructor(e={}){super(e),this.discriminator="Radio",this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}}getTemplate(){return this.template?this.template:s.default}render(e=[]){let t=this.getTemplate();return a.default.render(t,{title:this.getTitle(),classTitle:this.classTitle,options:e,collapsible:this.getCollapsible()?"needletail-collapsible":"",collapsed:this.getCollapsible()&&this.getDefaultCollapsed()?"needletail-collapsed":""})}executeJS(){let e=this.getTitle(),t=l.URIHelper.getSearchParam(e);document.addEventListener(l.Events.onAggsUpdate,t=>{if(t.detail[this.attribute]){let i=[];t.detail[this.attribute].forEach(t=>{i.push({name:e,value:t.value})});let r=this.render(i),s=document.createRange().createContextualFragment(r),n=!1;document.querySelectorAll(".needletail-aggregation.needletail-aggregation-radio.needletail-aggregation-radio-"+this.classTitle).forEach(e=>{n=e.classList.contains("needletail-collapsed"),e.replaceWith(s.cloneNode(!0))}),document.querySelectorAll(".needletail-aggregation.needletail-aggregation-radio.needletail-aggregation-radio-"+this.classTitle).forEach(e=>{this.getCollapsible()&&(e.addEventListener("click",t=>{e.classList.contains("needletail-collapsed")?e.classList.remove("needletail-collapsed"):e.classList.add("needletail-collapsed")}),n&&e.classList.add("needletail-collapsed"))}),document.querySelectorAll(".needletail-aggregation-radio-option-input.needletail-aggregation-radio-option-input-"+this.classTitle).forEach(e=>{e.addEventListener("change",()=>{this.handle(e)})}),document.querySelectorAll(".needletail-aggregation-radio-option-input.needletail-aggregation-radio-option-input-"+this.classTitle).forEach(t=>{t.checked=l.URIHelper.getSearchParam(e)===t.value,t.addEventListener("change",()=>{this.handle(t)})})}}),this.value={field:this.attribute,value:t,is_aggregation:!0}}handle(e,t=!1,i=!1){t||l.URIHelper.addToHistory(this.getTitle(),e.value,i),this.value={field:this.attribute,value:e.value,is_aggregation:!0},e.value||(this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}),l.Events.emit(l.Events.onBeforeResultRequest,{})}reset(){document.querySelectorAll(".needletail-aggregation-radio-option-input.needletail-aggregation-radio-option-input-"+this.classTitle).forEach(e=>{e.checked&&(e.checked=!1,this.handle(e,!1,!0))})}}t.Radio=o},function(e,t){e.exports='<div class="needletail-aggregation needletail-aggregation-radio needletail-aggregation-radio-{{classTitle}} {{collapsible}} {{collapsed}}"> <div class="needletail-aggregation-radio-title"> {{title}} </div> <div class="needletail-collapsible-container"> {{#options}} <label class="needletail-aggregation-radio-option"> <input type="radio" name="{{name}}" value="{{value}}" class="needletail-aggregation-radio-option-input needletail-aggregation-radio-option-input-{{name}}"> <span class="needletail-aggregation-radio-option-checkmark"></span> <span class="needletail-aggregation-radio-option-label">{{value}}</span> </label> {{/options}} </div> </div>'},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;const s=r(i(27)),n=i(0),a=r(i(1)),l=i(2);class o extends n.Aggregation{constructor(e={}){super(e),this.discriminator="Range",this.min=e.min||0,this.max=e.max||10,this.defaultValue=e.default_value||5,this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}}setMin(e){return this.min=e,this}getMin(){return this.min}setMax(e){return this.max=e,this}getMax(){return this.max}setDefaultValue(e){return this.defaultValue=e,this}getDefaultValue(){return this.defaultValue}setRange(e,t){return this.min=e,this.max=t,this}getTemplate(){return this.template?this.template:s.default}render(){let e=this.getTemplate();return a.default.render(e,{title:this.getTitle(),classTitle:this.classTitle,name:this.getTitle(),min:this.getMin(),max:this.getMax(),value:this.getDefaultValue(),collapsible:this.getCollapsible()?"needletail-collapsible":"",collapsed:this.getCollapsible()&&this.getDefaultCollapsed()?"needletail-collapsed":""})}executeJS(){let e=this.getTitle(),t=l.URIHelper.getSearchParam(e);document.querySelectorAll(".needletail-aggregation-slider-input.needletail-aggregation-slider-input-"+this.classTitle).forEach(e=>{e.value=t||this.getDefaultValue().toString(),document.addEventListener("DOMContentLoaded",()=>{this.handle(e,!0)}),e.addEventListener("change",()=>{this.handle(e)})}),document.querySelectorAll(".needletail-aggregation.needletail-aggregation-slider.needletail-aggregation-slider-"+this.classTitle).forEach(e=>{this.getCollapsible()&&e.addEventListener("click",t=>{e.classList.contains("needletail-collapsed")?e.classList.remove("needletail-collapsed"):e.classList.add("needletail-collapsed")})})}handle(e,t=!1){t||l.URIHelper.addToHistory(this.getTitle(),e.value),this.value={field:this.attribute,value:e.value,is_aggregation:!0},e.value||(this.value={field:this.attribute,value:"",is_aggregation:!0,exclude_from_search:!0}),l.Events.emit(l.Events.onBeforeResultRequest,{})}reset(){document.querySelectorAll(".needletail-aggregation-slider-input.needletail-aggregation-slider-input-"+this.classTitle).forEach(e=>{e.value=this.getDefaultValue().toString(),this.handle(e)})}}t.Slider=o},function(e,t){e.exports='<div class="needletail-aggregation needletail-aggregation-slider needletail-aggregation-slider-{{classTitle}} {{collapsible}} {{collapsed}}"> <div class="needletail-aggregation-slider-title"> {{title}} </div> <div class="needletail-collapsible-container"> <div class="needletail-aggregation-slider-container"> <input type="range" name="{{name}}" min="{{min}}" max="{{max}}" value="{{value}}" class="needletail-aggregation-slider-input needletail-aggregation-slider-input-{{name}}"> </div> </div> </div>'},function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(29),t),s(i(41),t),s(i(45),t),s(i(48),t)},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteBar=void 0;const n=i(0),a=s(i(30)),l=s(i(31)),o=s(i(1)),u=s(i(3)),c=i(2);class d extends n.Widget{constructor(e={}){super(e),this.discriminator="AutocompleteBar",this.debounce=!0,this.debounceWait=200,this.debounceUrlWait=2e3,this.query="autocompleteBar",this.inUrl=!0,this.placeholder="Start typing to search",this.noResultMessage="No results where found",this.selectedResult=-1,this.value={},this.size=10,this.minimumCharacters=3,this.showResults=!0,this.useInResults=!0,this.searchOnContentLoaded=!0,this.liveResults=!1,this.initialInput=!0,this.forceUseOfResult=!1,this.skipForceResults=0,this.debounce=void 0!==c.optional(e.debounce).use?e.debounce.use:this.debounce,this.debounceWait=c.optional(e.debounce).wait||this.debounceWait,this.debounceUrlWait=c.optional(e.debounce).url_wait||this.debounceUrlWait,this.inUrl=void 0!==e.in_url?e.in_url:this.inUrl,this.query=e.query||this.query,this.attribute=c.optional(e.search).attribute||"",this.buckets=c.optional(e.search).buckets||[],this.placeholder=e.placeholder||this.placeholder,this.noResultMessage=e.no_result_message||this.noResultMessage,this.size=c.optional(e.search).size||this.size,this.minimumCharacters=void 0!==e.minimum_characters?e.minimum_characters:this.minimumCharacters,this.showResults=void 0!==e.show_results?e.show_results:this.showResults,this.useInResults=void 0!==e.use_in_results?e.use_in_results:this.useInResults,this.searchOnContentLoaded=void 0!==e.search_on_content_loaded?e.search_on_content_loaded:this.searchOnContentLoaded,this.liveResults=void 0!==e.live_results?e.live_results:this.liveResults,this.initialInput=void 0!==e.initial_input?e.initial_input:this.initialInput,this.forceUseOfResult=void 0!==e.force_use_of_result?e.force_use_of_result:this.forceUseOfResult,this.getInitialInput()&&(this.skipForceResults=1)}setMinimumCharacters(e){return this.minimumCharacters=e,this}getMinimumCharacters(){return this.minimumCharacters}setSize(e){return this.size=e,this}getSize(){return this.size}setPlaceholder(e){return this.placeholder=e,this}getPlaceholder(){return this.placeholder}setNoResultMessage(e){return this.noResultMessage=e,this}getNoResultMessage(){return this.noResultMessage}setAttribute(e){return this.attribute=e,this}getAttribute(){return this.attribute}setBuckets(e){return this.buckets=e,this}getBuckets(){return this.buckets}useDebounce(e=!0){return this.debounce=e,this}setDebounceWait(e){return this.debounceWait=e,this}setDebounceUrlWait(e){return this.debounceUrlWait=e,this}getTemplate(){return this.template?this.template:a.default}setResultTemplate(e){return this.resultTemplate=e,this}getResultTemplate(){return this.resultTemplate?this.resultTemplate:l.default}setInUrl(e){return this.inUrl=e,this}getInUrl(){return this.inUrl}setShowResults(e){return this.showResults=e,this}getShowResults(){return this.showResults}setDiscriminator(e){return this.discriminator=e,this}getDiscriminator(){return this.discriminator}setSearchOnContentLoaded(e){return this.searchOnContentLoaded=e,this}getSearchOnContentLoaded(){return this.searchOnContentLoaded}setLiveResults(e){return this.liveResults=e,this}getLiveResults(){return this.liveResults}setInitialInput(e){return this.initialInput=e,this}getInitialInput(){return this.initialInput}setForceUseOfResult(e){return this.forceUseOfResult=e,this}getForceUseOfResult(){return this.forceUseOfResult}render(e={}){let t=this.getTemplate();e=Object.assign({name:this.getQuery(),placeholder:this.getPlaceholder(),results:this.renderResults()},e);let i=o.default.render(t,e);return document.createRange().createContextualFragment(i)}renderResults(e={}){let t=this.getResultTemplate();return e=Object.assign({no_result_message:this.getNoResultMessage()},e),o.default.render(t,e)}getQuery(){return this.query}setQuery(e){return this.query=e,this}executeJS(){let e=c.URIHelper.getSearchParam(this.getQuery());document.querySelectorAll(this.getEl()+" .needletail-autocomplete-bar-input").forEach(t=>{this.getForceUseOfResult()&&t.setAttribute("data-force","on"),t.value=e||"",document.addEventListener("DOMContContententLoaded",()=>{this.getSearchOnContentLoaded()&&this.handle(t)}),this.getInitialInput()&&t.addEventListener("input",e=>{document.querySelectorAll(this.getEl()+" .needletail-autocomplete-bar-result.needletail-initial-input").forEach(e=>{e.innerHTML=t.value,e.setAttribute("data-attribute",t.value)}),t.setAttribute("data-initial-value",t.value)}),this.debounce?(t.addEventListener("input",u.default(()=>{this.handle(t)},this.debounceWait)),this.inUrl&&t.addEventListener("input",u.default(()=>{this.handleUrlChange(t)},this.debounceUrlWait))):t.addEventListener("input",()=>{this.handleUrlChange(t),this.handle(t)}),t.addEventListener("keydown",e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){let i=document.querySelectorAll(this.getEl()+" .needletail-autocomplete-bar-result");"ArrowUp"===e.key?this.selectedResult>0&&this.selectedResult--:"ArrowDown"===e.key&&this.selectedResult<i.length-1&&this.selectedResult++,i.forEach(e=>{e.classList.remove("active")}),i[this.selectedResult].classList.add("active"),t.value=i[this.selectedResult].getAttribute("data-attribute"),this.getForceUseOfResult()&&(this.selectedResult<this.skipForceResults?t.setAttribute("data-force","on"):t.setAttribute("data-force","off")),c.Events.emit(c.Events.onArrowMovementSearch,{value:i[this.selectedResult].dataset})}else if("Enter"===e.key){let e=document.querySelectorAll(this.getEl()+" .needletail-autocomplete-bar-result");this.getForceUseOfResult()&&"on"===t.getAttribute("data-force")&&(t.value=e[this.skipForceResults].getAttribute("data-attribute"),this.selectedResult=this.skipForceResults),c.Events.emit(c.Events.onSubmitSearch,{id:this.getQuery(),value:e[this.selectedResult].dataset})}else"Escape"===e.key&&document.querySelectorAll(":focus").forEach(e=>e.blur())})}),document.addEventListener(c.Events.onBeforeSearch,e=>r(this,void 0,void 0,(function*(){e.detail.query===this.getQuery()?(e.detail.extra_search_values={},c.Events.emit(c.Events.onSearch,e.detail)):e.preventDefault()}))),document.addEventListener(c.Events.onSearch,e=>r(this,void 0,void 0,(function*(){if(e.detail.query!==this.getQuery())return void e.preventDefault();let t=this.attribute;"string"==typeof t&&(t=[t]);let i=[];t.forEach(t=>{i.push({field:t,value:e.detail.value})});let r=yield this.client.search({buckets:this.buckets,search:Object.assign({should:{fuzzy:i}},e.detail.extra_search_values),size:this.size,highlight:!0});r&&r.data.count>0&&(e.detail.search_result=r.data.results.map(e=>{let t=Object.assign(Object.assign({},e.record),{value:e.record[this.attribute.replace(".autocomplete","")],raw:e.record[this.attribute.replace(".autocomplete","")]});return e.highlight&&(t.highlight=e.highlight[this.attribute]),t})),c.Events.emit(c.Events.onAfterSearch,e.detail)}))),document.addEventListener(c.Events.onAfterSearch,e=>r(this,void 0,void 0,(function*(){if(e.detail.query!==this.getQuery())return void e.preventDefault();let t={results:[],initial_input:""};e.detail.search_result&&e.detail.search_result.length>0&&e.detail.value&&0!==e.detail.value.length&&(t={results:e.detail.search_result,initial_input:e.detail.value}),this.buildResults(t)})))}buildResults(e={}){if(!this.showResults)return;let t=this.renderResults(e),i=document.createRange().createContextualFragment(t);document.querySelectorAll(".needletail-autocomplete-bar-"+this.getQuery()).forEach(e=>{let t=e.querySelector(".needletail-autocomplete-bar-results");e.replaceChild(i.cloneNode(!0),t);let r=e.querySelector(".needletail-autocomplete-bar-results").querySelectorAll(".needletail-autocomplete-bar-result");r.forEach(e=>{e.addEventListener("mouseover",t=>{this.selectedResult=Array.prototype.indexOf.call(r,e),r.forEach(e=>{e.classList.remove("active")}),r[this.selectedResult].classList.add("active")}),e.addEventListener("click",t=>{document.querySelectorAll(`.needletail-autocomplete-bar-${this.getQuery()} .needletail-autocomplete-bar-input`).forEach(t=>{t.value=e.getAttribute("data-attribute"),this.handleUrlChange(t)}),c.Events.emit(c.Events.onSubmitSearch,{id:this.getQuery(),value:e.dataset})})});let s=e.querySelector(".needletail-autocomplete-bar-input");s.value.length>0&&s.classList.remove("needletail-empty")})}handleUrlChange(e){this.getInUrl()&&c.URIHelper.addToHistory(this.getQuery(),e.getAttribute("data-initial-value"))}handle(e){let t,i=e.value;i&&i.length<this.getMinimumCharacters()?(t={value:"",search_result:{}},this.value={field:this.attribute,value:""}):(t={value:i,search_result:{}},this.value={field:this.attribute,value:i}),0==i.length&&e.classList.add("needletail-empty"),t.query=this.getQuery(),c.Events.emit(c.Events.onBeforeSearch,t),this.getLiveResults()&&c.Events.emit(c.Events.onBeforeResultRequest,{})}}t.AutocompleteBar=d},function(e,t){e.exports='<div class="needletail-autocomplete-bar needletail-autocomplete-bar-{{name}}"> <input type="text" class="needletail-autocomplete-bar-input needletail-empty" autocomplete="off" spellcheck="false" placeholder="{{placeholder}}"> {{{results}}} </div>'},function(e,t){e.exports='<div class="needletail-autocomplete-bar-results"> {{#initial_input}} <div class="needletail-autocomplete-bar-result needletail-initial-input" data-attribute="{{initial_input}}"> {{{initial_input}}} </div> {{/initial_input}} {{#results}} <div class="needletail-autocomplete-bar-result" data-attribute="{{raw}}"> {{{title}}} <hr> {{{highlight}}} </div> {{/results}} {{^results}} <div class="needletail-autocomplete-bar-no-result"> {{{no_result_message}}} </div> {{/results}} </div>'},function(e,t,i){var r=i(6);e.exports=function(){return r.Date.now()}},function(e,t,i){(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(this,i(34))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){var r=i(5),s=i(36),n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var i=l.test(e);return i||o.test(e)?u(e.slice(2),i?2:8):a.test(e)?NaN:+e}},function(e,t,i){var r=i(37),s=i(40);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==r(e)}},function(e,t,i){var r=i(7),s=i(38),n=i(39),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?s(e):n(e)}},function(e,t,i){var r=i(7),s=Object.prototype,n=s.hasOwnProperty,a=s.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=n.call(e,l),i=e[l];try{e[l]=void 0;var r=!0}catch(e){}var s=a.call(e);return r&&(t?e[l]=i:delete e[l]),s}},function(e,t){var i=Object.prototype.toString;e.exports=function(e){return i.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GroupedSearchBar=void 0;const n=i(0),a=s(i(42)),l=s(i(43)),o=s(i(44)),u=s(i(1)),c=s(i(3)),d=i(2);class h extends n.Widget{constructor(e={}){super(e),this.discriminator="GroupedSearchBar",this.debounce=!0,this.debounceWait=200,this.debounceUrlWait=2e3,this.query="groupedSearchBar",this.inUrl=!0,this.buckets=[],this.placeholder="Start typing to search",this.noResultMessage="No results where found",this.selectedResult=-1,this.value={},this.size=3,this.minimumCharacters=3,this.showResults=!0,this.searchOnContentLoaded=!0,this.initialInput=!0,this.debounce=void 0!==d.optional(e.debounce).use?e.debounce.use:this.debounce,this.debounceWait=d.optional(e.debounce).wait||this.debounceWait,this.debounceUrlWait=d.optional(e.debounce).url_wait||this.debounceUrlWait,this.inUrl=void 0!==e.in_url?e.in_url:this.inUrl,this.query=e.query||this.query,this.buckets=d.optional(e.search).buckets||this.buckets,this.attribute=d.optional(e.search).attribute||"",this.placeholder=e.placeholder||this.placeholder,this.noResultMessage=e.no_result_message||this.noResultMessage,this.size=d.optional(e.search).size||this.size,this.minimumCharacters=void 0!==e.minimum_characters?e.minimum_characters:this.minimumCharacters,this.showResults=void 0!==e.show_results?e.show_results:this.showResults,this.searchOnContentLoaded=void 0!==e.search_on_content_loaded?e.search_on_content_loaded:this.searchOnContentLoaded,this.initialInput=void 0!==e.initial_input?e.initial_input:this.initialInput}setMinimumCharacters(e){return this.minimumCharacters=e,this}getMinimumCharacters(){return this.minimumCharacters}setSize(e){return this.size=e,this}getSize(){return this.size}setPlaceholder(e){return this.placeholder=e,this}getPlaceholder(){return this.placeholder}setNoResultMessage(e){return this.noResultMessage=e,this}getNoResultMessage(){return this.noResultMessage}setAttribute(e){return this.attribute=e,this}getAttribute(){return this.attribute}setBuckets(e){return this.buckets=e,this}getBuckets(){return this.buckets}useDebounce(e=!0){return this.debounce=e,this}setDebounceWait(e){return this.debounceWait=e,this}setDebounceUrlWait(e){return this.debounceUrlWait=e,this}getTemplate(){return this.template?this.template:a.default}setResultTemplate(e){return this.resultTemplate=e,this}getResultTemplate(){return this.resultTemplate?this.resultTemplate:l.default}setInnerResultTemplate(e){return this.innerResultTemplate=e,this}getInnerResultTemplate(){return this.innerResultTemplate?this.innerResultTemplate:o.default}setInUrl(e){return this.inUrl=e,this}getInUrl(){return this.inUrl}setShowResults(e){return this.showResults=e,this}getShowResults(){return this.showResults}setDiscriminator(e){return this.discriminator=e,this}getDiscriminator(){return this.discriminator}setSearchOnContentLoaded(e){return this.searchOnContentLoaded=e,this}getSearchOnContentLoaded(){return this.searchOnContentLoaded}setInitialInput(e){return this.initialInput=e,this}getInitialInput(){return this.initialInput}render(e={}){let t=this.getTemplate();e=Object.assign({name:this.getQuery(),placeholder:this.getPlaceholder(),results:this.renderResults()},e);let i=u.default.render(t,e);return document.createRange().createContextualFragment(i)}renderResults(e={}){let t=this.getResultTemplate();return e=Object.assign({no_result_message:this.getNoResultMessage()},e),u.default.render(t,e)}renderResultTemplates(e={},t=null){let i=t||this.getInnerResultTemplate();return u.default.render(i,e)}getQuery(){return this.query}setQuery(e){return this.query=e,this}executeJS(){let e=d.URIHelper.getSearchParam(this.getQuery());document.querySelectorAll(this.getEl()+" .needletail-grouped-search-bar-input").forEach(t=>{t.value=e||"",document.addEventListener("DOMContentLoaded",()=>{this.getSearchOnContentLoaded()&&this.handle(t)}),this.getInitialInput()&&t.addEventListener("input",e=>{document.querySelectorAll(this.getEl()+" .needletail-grouped-search-bar-result.needletail-initial-input").forEach(e=>{e.innerHTML=t.value,e.setAttribute("data-attribute",t.value)}),t.setAttribute("data-initial-value",t.value)}),this.debounce?(t.addEventListener("input",c.default(()=>{this.handle(t)},this.debounceWait)),this.inUrl&&t.addEventListener("input",c.default(()=>{this.handleUrlChange(t)},this.debounceUrlWait))):t.addEventListener("input",()=>{this.handleUrlChange(t),this.handle(t)}),t.addEventListener("keydown",e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){let i=document.querySelectorAll(this.getEl()+" .needletail-grouped-search-bar-result");"ArrowUp"===e.key?this.selectedResult>0&&this.selectedResult--:"ArrowDown"===e.key&&this.selectedResult<i.length-1&&this.selectedResult++,i.forEach(e=>{e.classList.remove("active")}),i[this.selectedResult].classList.add("active"),t.value=i[this.selectedResult].getAttribute("data-attribute"),d.Events.emit(d.Events.onArrowMovementGroupedSearch,{value:i[this.selectedResult].dataset})}else if("Enter"===e.key){let e=document.querySelectorAll(this.getEl()+" .needletail-grouped-search-bar-result");d.Events.emit(d.Events.onSubmitGroupedSearch,{id:this.getQuery(),value:e[this.selectedResult].dataset})}else"Escape"===e.key&&document.querySelectorAll(":focus").forEach(e=>e.blur())})}),document.addEventListener(d.Events.onBeforeGroupedSearch,e=>r(this,void 0,void 0,(function*(){e.detail.query===this.getQuery()?(e.detail.extra_search_values={},d.Events.emit(d.Events.onGroupedSearch,e.detail)):e.preventDefault()}))),document.addEventListener(d.Events.onGroupedSearch,e=>r(this,void 0,void 0,(function*(){if(e.detail.query!==this.getQuery())return void e.preventDefault();let t={};this.buckets.forEach(i=>{if("object"==typeof i){if(i.name){let r=i.attribute||this.attribute;"string"==typeof r&&(r=[r]);let s=[];r.forEach(t=>{s.push({field:t,value:e.detail.value})}),t[i.name]={search:Object.assign({should:{fuzzy:s}},e.detail.extra_search_values),size:i.size||this.size,highlight:!0}}}else{let r=this.attribute;"string"==typeof r&&(r=[r]);let s=[];r.forEach(t=>{s.push({field:t,value:e.detail.value})}),t[i]={search:Object.assign({should:{fuzzy:s}},e.detail.extra_search_values),size:this.size,highlight:!0}}});let i=yield this.client.bulk({buckets:t});i&&i.data&&(e.detail.search_result=[],Object.keys(i.data).forEach(t=>{var r;let s=i.data[t],n=this.buckets.find(e=>e.name===t);s.count>0&&e.detail.search_result.push({key:null!==(r=n.key)&&void 0!==r?r:t,results:s.results.map(e=>{let t=Object.assign(Object.assign({},e.record),{value:e.record[this.attribute.replace(".autocomplete","")],raw:e.record[this.attribute.replace(".autocomplete","")]});return e.highlight&&(t.highlight=e.highlight[this.attribute]),t})})})),d.Events.emit(d.Events.onAfterGroupedSearch,e.detail)}))),document.addEventListener(d.Events.onAfterGroupedSearch,e=>r(this,void 0,void 0,(function*(){if(e.detail.query!==this.getQuery())return void e.preventDefault();let t={};e.detail.search_result&&Object.keys(e.detail.search_result).length>0&&(t={results:e.detail.search_result,initial_input:e.detail.value}),this.buildResults(t)})))}buildResults(e={}){if(!this.showResults)return;let t=[];e&&e.results&&(e.results.forEach(e=>{let i=this.buckets.find(t=>t.name===e.key);i&&i.template?t.push(this.renderResultTemplates(e,i.template)):t.push(this.renderResultTemplates(e))}),e.results=t);let i=this.renderResults(e),r=document.createRange().createContextualFragment(i);document.querySelectorAll(".needletail-grouped-search-bar-"+this.getQuery()).forEach(e=>{let t=e.querySelector(".needletail-grouped-search-bar-results");e.replaceChild(r.cloneNode(!0),t);let i=e.querySelector(".needletail-grouped-search-bar-results").querySelectorAll(".needletail-grouped-search-bar-result");i.forEach(e=>{e.addEventListener("mouseover",t=>{this.selectedResult=Array.prototype.indexOf.call(i,e),i.forEach(e=>{e.classList.remove("active")}),i[this.selectedResult].classList.add("active")}),e.addEventListener("click",t=>{document.querySelectorAll(`.needletail-grouped-search-bar-${this.getQuery()} .needletail-grouped-search-bar-input`).forEach(t=>{t.value=e.getAttribute("data-attribute"),this.handleUrlChange(t)}),d.Events.emit(d.Events.onSubmitGroupedSearch,{id:this.getQuery(),value:e.dataset})})});let s=e.querySelector(".needletail-autocomplete-bar-input");s.value.length>0&&s.classList.remove("needletail-empty")})}handleUrlChange(e){this.getInUrl()&&d.URIHelper.addToHistory(this.getQuery(),e.getAttribute("data-initial-value"))}handle(e){let t,i=e.value;i&&i.length<this.getMinimumCharacters()?(t={value:"",search_result:{}},this.value={field:this.attribute,value:""}):(t={value:i,search_result:{}},this.value={field:this.attribute,value:i}),0==i.length&&e.classList.add("needletail-empty"),t.query=this.getQuery(),d.Events.emit(d.Events.onBeforeGroupedSearch,t)}}t.GroupedSearchBar=h},function(e,t){e.exports='<div class="needletail-grouped-search-bar needletail-grouped-search-bar-{{name}}"> <input type="text" class="needletail-grouped-search-bar-input needletail-empty" autocomplete="off" spellcheck="false" placeholder="{{placeholder}}"> {{{results}}} </div>'},function(e,t){e.exports='<div class="needletail-grouped-search-bar-results"> <div class="needletail-grouped-search-bar-result-results"> {{#initial_input}} <div class="needletail-grouped-search-bar-result needletail-initial-input" data-attribute="{{initial_input}}"> {{{initial_input}}} </div> {{/initial_input}} </div> {{#results}} {{{.}}} {{/results}} {{^results}} <div class="needletail-grouped-search-bar-no-result"> {{{no_result_message}}} </div> {{/results}} </div>'},function(e,t){e.exports='<div class="needletail-grouped-search-bar-result-title"> {{key}} </div> <div class="needletail-grouped-search-bar-result-results"> {{#results}} <div class="needletail-grouped-search-bar-result" data-attribute="{{raw}}"> {{{title}}} <hr> {{{highlight}}} </div> {{/results}} </div>'},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Result=void 0;const n=i(0),a=s(i(46)),l=s(i(47)),o=s(i(1)),u=i(2),c=s(i(3));class d extends n.Widget{constructor(e={}){super(e),this.discriminator="Result",this.per_page=10,this.previous="Previous",this.next="Next",this.last="Last",this.first="First",this.show_quick_pagination=!1,this.minify_pages=5,this.per_page=e.per_page||this.per_page,this.previous=u.optional(e.pagination).previous||this.previous,this.next=u.optional(e.pagination).next||this.next,this.minify_pages=e.minify_pages||this.minify_pages,this.last=u.optional(e.pagination).last||this.last,this.first=u.optional(e.pagination).first||this.first,this.show_quick_pagination=u.optional(e.pagination).show_quick_pagination||this.show_quick_pagination,this.result_template=e.result_template,this.executeJS()}setMinifyPages(e){return this.minify_pages=e,this}getMinifyPages(){return this.minify_pages}setPrevious(e){return this.previous=e,this}getPrevious(){return this.previous}setNext(e){return this.next=e,this}getNext(){return this.next}getTemplate(){return this.template?this.template:a.default}getResultTemplate(){return this.result_template?this.result_template:l.default}setResultTemplate(e){return this.result_template=e,this}setFirst(e){return this.first=e,this.showQuickPagination(),this}getFirst(){return this.first}setLast(e){return this.last=e,this.showQuickPagination(),this}getLast(){return this.last}showQuickPagination(){return this.show_quick_pagination=!0,this}render(e=[],t=[]){let i=this.getTemplate(),r=[];e&&Object.keys(e).forEach(t=>{r.push(e[t].record)});let s=parseInt(u.URIHelper.getSearchParam("page"))||1,n=t[t.length-1],a={previousButton:this.getPrevious(),nextButton:this.getNext(),previousPage:s-1,nextPage:s+1,disablePreviousButton:0===t.length||1===s?"disabled":"",disableNextButton:0===t.length||n.page===s?"disabled":"",pages:t,results:this.renderResults({results:r}),lastButton:"",firstButton:"",firstPage:0,lastPage:0,disableLastButton:0===t.length||n.page===s?"disabled":"",disableFirstButton:0===t.length||1===s?"disabled":""};this.show_quick_pagination&&(a.lastButton=this.getLast(),a.firstButton=this.getFirst(),a.firstPage=1,a.lastPage=u.optional(n).page);let l=o.default.render(i,a);return document.createRange().createContextualFragment(l)}renderResults(e={}){let t=this.getResultTemplate();return e=Object.assign({},e),o.default.render(t,e)}executeJS(){document.addEventListener(u.Events.onBeforeResultRequest,c.default(e=>{let t=this.client.widgets.autocompleteBar,i=this.client.widgets.aggregationBar,r=t.reduce((e,t)=>t.useInResults?(t.buckets.forEach(t=>{e.push(t)}),e):e,[]),s=t.reduce((e,t)=>t.useInResults?(Object.keys(t.value).length>0&&e.push(t.value),e):e,[]),n=i.map(e=>e.getValues());e.detail.buckets=r,e.detail.search_values={fuzzy:[...[].concat.apply([],s)],match:[...[].concat.apply([],n)]},e.detail.extra_search_values={},u.Events.emit(u.Events.onResultRequest,e.detail)},100)),document.addEventListener(u.Events.onResultRequest,c.default(e=>r(this,void 0,void 0,(function*(){let t=parseInt(u.URIHelper.getSearchParam("page"))||1,i=yield this.client.search({buckets:e.detail.buckets,search:Object.assign({should:Object.assign({},e.detail.search_values)},e.detail.extra_search_values),size:this.per_page,offset:(t-1)*this.per_page});if(i&&i.data){if(e.detail.count=i.data.count,i.data.results){e.detail.pages=[];for(let r=0;r<Math.ceil(i.data.count/this.per_page);r++)e.detail.pages.push({page:r+1,offset:r*this.per_page,active:0===r&&!t||t===r+1?"active":""});let r=e.detail.pages.length;if(e.detail.pages.length>this.minify_pages){let i=0,s=[],n=[],a=Math.ceil(this.minify_pages/2),l=!1;if(r-a>=t){let i=e.detail.pages.pop();r-a!=t&&n.push({page:"...",offset:0,active:"disabled"}),n.push(i)}else l=!0;if(a<t){let n=e.detail.pages.shift();if(s.push(n),this.minify_pages%2==1&&a++,l){let e=this.minify_pages;t==r?t--:t==r-2&&(e=a),i=t-e}else i=t-a;i>0&&s.push({page:"...",offset:0,active:"disabled"})}let o=e.detail.pages.splice(i,this.minify_pages);e.detail.pages=[...o],s.length>0&&e.detail.pages.unshift(...s),n.length>0&&e.detail.pages.push(...n)}e.detail.search_result=i.data.results}i.data.aggs&&u.Events.emit(u.Events.onAggsUpdate,i.data.aggs)}u.Events.emit(u.Events.onAfterResultRequest,e.detail)})),100)),document.addEventListener(u.Events.onAfterResultRequest,e=>{let t=this.render(e.detail.search_result,e.detail.pages);document.querySelectorAll(this.getEl()).forEach(e=>{let i=e.querySelector(".needletail-result");e.replaceChild(t.cloneNode(!0),i),e.querySelectorAll(".needletail-result-pagination-page:not(.disabled):not(.active)").forEach(e=>{e.addEventListener("click",t=>{let i=e.getAttribute("data-page");u.URIHelper.addToHistory("page",i),u.Events.emit(u.Events.onBeforeResultRequest,{})})})})}),u.Events.emit(u.Events.onBeforeResultRequest,{})}}t.Result=d},function(e,t){e.exports='<div class="needletail-result"> <div class="needletail-result-results"> {{{results}}} </div> <div class="needletail-result-pagination"> {{#firstButton}} <div class="needletail-result-pagination-page needletail-result-pagination-first {{disableFirstButton}}" data-page="{{firstPage}}">{{{firstButton}}}</div> {{/firstButton}} <div class="needletail-result-pagination-page needletail-result-pagination-previous {{disablePreviousButton}}" data-page="{{previousPage}}">{{{previousButton}}}</div> {{#pages}} <div class="needletail-result-pagination-page {{active}}" data-offset="{{offset}}" data-page="{{page}}"> {{page}} </div> {{/pages}} <div class="needletail-result-pagination-page needletail-result-pagination-next {{disableNextButton}}" data-page="{{nextPage}}">{{{nextButton}}}</div> {{#lastButton}} <div class="needletail-result-pagination-page needletail-result-pagination-last {{disableLastButton}}" data-page="{{lastPage}}">{{{lastButton}}}</div> {{/lastButton}} </div> </div>'},function(e,t){e.exports='{{#results}} <div class="needletail-result-result"> <div class="needletail-result-title">{{title}}</div> <div class="needletail-result-body">{{body}}</div> </div> {{/results}}'},function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AggregationBar=void 0;const s=i(0),n=r(i(49)),a=r(i(50)),l=r(i(1)),o=i(2);class u extends s.Widget{constructor(e={}){super(e),this.discriminator="AggregationBar",this.useClearFilters=!1,this.clearFiltersTop=!1,this.clearFiltersBottom=!1,this.clearFiltersText="Clear filters",this.fields=[],this.useClearFilters=o.optional(e.clear_filters).use||this.useClearFilters,this.clearFiltersTop=o.optional(e.clear_filters).top||this.clearFiltersTop,this.clearFiltersBottom=o.optional(e.clear_filters).bottom||this.clearFiltersBottom,this.clearFiltersText=o.optional(e.clear_filters).text||this.clearFiltersText}setUseClearFilters(e){return this.useClearFilters=e,this}setClearFiltersTop(e){return this.clearFiltersTop=e,this}setClearFiltersBottom(e){return this.clearFiltersBottom=e,this}setClearFiltersText(e){return this.clearFiltersText=e,this}addField(e){return this.fields.push(e),this}addMultipleFields(e){return e.forEach(e=>{this.fields.push(e)}),this}getTemplate(){return this.template?this.template:n.default}render(){let e=this.getTemplate(),t=[];this.fields.forEach(e=>{let i=e.render();t.push(i)});let i=l.default.render(e,{fields:t,clearFilters:this.renderClearFilters(),showClearFiltersTop:this.clearFiltersTop,showClearFiltersBottom:this.clearFiltersBottom});return document.createRange().createContextualFragment(i)}setClearFiltersTemplate(e){return this.clearFiltersTemplate=e,this}getClearFiltersTemplate(){return this.clearFiltersTemplate?this.clearFiltersTemplate:a.default}renderClearFilters(){let e=this.getClearFiltersTemplate();return l.default.render(e,{text:this.clearFiltersText})}executeJS(){this.fields.forEach(e=>{e.executeJS()});let e=document.getElementsByClassName("needletail-clear-filters");for(let t=0;t<e.length;t++)e[t].addEventListener("click",()=>{this.fields.forEach(e=>{e.reset()})});document.addEventListener("DOMContentLoaded",()=>{this.fields.forEach(e=>{setTimeout(()=>{e.setDefaultCollapsed(!1)},1e3)})})}getValues(){return this.fields.reduce((e,t)=>(Object.keys(t.value).length>0&&e.push(t.value),e),[])}}t.AggregationBar=u},function(e,t){e.exports='<div class="needletail-aggregation-bar"> {{#showClearFiltersTop}} <div class="needletail-clear-filters-top"> {{{clearFilters}}} </div> {{/showClearFiltersTop}} {{#fields}} <div class="needletail-aggregation-item"> {{{.}}} </div> {{/fields}} {{#showClearFiltersBottom}} <div class="needletail-clear-filters-bottom"> {{{clearFilters}}} </div> {{/showClearFiltersBottom}} </div>'},function(e,t){e.exports='<span class="needletail-clear-filters">{{{text}}}</span>'}])}));